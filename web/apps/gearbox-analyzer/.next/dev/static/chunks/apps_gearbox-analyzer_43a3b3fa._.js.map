{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/stores/drivetrain-store.ts"],"sourcesContent":["\"use client\";\n\nimport { create } from \"zustand\";\nimport {\n  type Node,\n  type Edge,\n  type XYPosition,\n  applyNodeChanges,\n  applyEdgeChanges,\n  type NodeChange,\n  type EdgeChange,\n} from \"@xyflow/react\";\n\n/**\n * Component types available in the palette.\n */\nexport type ComponentType =\n  | \"engine\"\n  | \"motor\"\n  | \"gearbox\"\n  | \"planetary\"\n  | \"battery\"\n  | \"vehicle\";\n\n/**\n * Base node data shared by all component nodes.\n */\nexport interface BaseNodeData {\n  label: string;\n  componentType: ComponentType;\n  params: Record<string, unknown>;\n}\n\n/**\n * Port definition for connection validation.\n */\nexport interface PortDefinition {\n  id: string;\n  type: \"mechanical\" | \"electrical\";\n  position: \"left\" | \"right\" | \"top\" | \"bottom\";\n}\n\n/**\n * Validation result for the topology.\n */\nexport interface ValidationResult {\n  isValid: boolean;\n  errors: string[];\n}\n\n/**\n * Preset configuration names.\n */\nexport type PresetName = \"diesel-793d\" | \"ecvt-split\" | \"ecvt-locked\";\n\ninterface DrivetrainState {\n  nodes: Node<BaseNodeData>[];\n  edges: Edge[];\n  selectedNodeId: string | null;\n\n  // Actions\n  addNode: (type: ComponentType, position: XYPosition) => void;\n  removeNode: (id: string) => void;\n  updateNodeParams: (id: string, params: Record<string, unknown>) => void;\n  setSelectedNode: (id: string | null) => void;\n  onNodesChange: (changes: NodeChange<Node<BaseNodeData>>[]) => void;\n  onEdgesChange: (changes: EdgeChange[]) => void;\n  addEdge: (edge: Edge) => void;\n  removeEdge: (id: string) => void;\n  validateTopology: () => ValidationResult;\n  loadPreset: (name: PresetName) => void;\n  clearAll: () => void;\n}\n\n// Default parameters for each component type\nconst DEFAULT_PARAMS: Record<ComponentType, Record<string, unknown>> = {\n  engine: {\n    rpmIdle: 700,\n    rpmMax: 1800,\n    pRated: 1801000,\n    tPeak: 11220,\n  },\n  motor: {\n    pMax: 200000,\n    tMax: 3000,\n    rpmMax: 6000,\n    eta: 0.92,\n  },\n  gearbox: {\n    ratios: [4.59, 2.95, 1.94, 1.40, 1.0, 0.74, 0.65],\n    efficiencies: [0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97],\n  },\n  planetary: {\n    zSun: 30,\n    zRing: 90,\n  },\n  battery: {\n    capacityKwh: 200,\n    vNom: 700,\n    pMaxDischarge: 1000000,\n    pMaxCharge: 500000,\n    socInit: 0.6,\n  },\n  vehicle: {\n    mEmpty: 159350,\n    mPayload: 190000,\n    rWheel: 1.78,\n    cR: 0.025,\n    vMax: 15.0,\n  },\n};\n\n// Counter for unique node IDs\nlet nodeIdCounter = 1;\n\nexport const useDrivetrainStore = create<DrivetrainState>((set, get) => ({\n  nodes: [],\n  edges: [],\n  selectedNodeId: null,\n\n  addNode: (type, position) => {\n    const id = `${type}-${nodeIdCounter++}`;\n    const newNode: Node<BaseNodeData> = {\n      id,\n      type: `${type}Node`,\n      position,\n      data: {\n        label: `${type.charAt(0).toUpperCase() + type.slice(1)} ${nodeIdCounter - 1}`,\n        componentType: type,\n        params: { ...DEFAULT_PARAMS[type] },\n      },\n    };\n\n    set((state) => ({\n      nodes: [...state.nodes, newNode],\n    }));\n  },\n\n  removeNode: (id) => {\n    set((state) => ({\n      nodes: state.nodes.filter((n) => n.id !== id),\n      edges: state.edges.filter((e) => e.source !== id && e.target !== id),\n      selectedNodeId: state.selectedNodeId === id ? null : state.selectedNodeId,\n    }));\n  },\n\n  updateNodeParams: (id, params) => {\n    set((state) => ({\n      nodes: state.nodes.map((node) =>\n        node.id === id\n          ? { ...node, data: { ...node.data, params: { ...node.data.params, ...params } } }\n          : node\n      ),\n    }));\n  },\n\n  setSelectedNode: (id) => {\n    set({ selectedNodeId: id });\n  },\n\n  onNodesChange: (changes) => {\n    set((state) => ({\n      nodes: applyNodeChanges(changes, state.nodes),\n    }));\n  },\n\n  onEdgesChange: (changes) => {\n    set((state) => ({\n      edges: applyEdgeChanges(changes, state.edges),\n    }));\n  },\n\n  addEdge: (edge) => {\n    set((state) => ({\n      edges: [...state.edges, edge],\n    }));\n  },\n\n  removeEdge: (id) => {\n    set((state) => ({\n      edges: state.edges.filter((e) => e.id !== id),\n    }));\n  },\n\n  validateTopology: () => {\n    const { nodes, edges } = get();\n    const errors: string[] = [];\n\n    // Check for at least one engine or motor\n    const hasActuator = nodes.some(\n      (n) => n.data.componentType === \"engine\" || n.data.componentType === \"motor\"\n    );\n    if (!hasActuator) {\n      errors.push(\"Topology needs at least one engine or motor\");\n    }\n\n    // Check for vehicle component\n    const hasVehicle = nodes.some((n) => n.data.componentType === \"vehicle\");\n    if (!hasVehicle) {\n      errors.push(\"Topology needs a vehicle component\");\n    }\n\n    // Check connectivity (simplified)\n    if (nodes.length > 1 && edges.length < nodes.length - 1) {\n      errors.push(\"Some components are not connected\");\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors,\n    };\n  },\n\n  loadPreset: (name) => {\n    // Clear current state\n    nodeIdCounter = 1;\n\n    switch (name) {\n      case \"diesel-793d\":\n        set({\n          nodes: [\n            {\n              id: \"engine-1\",\n              type: \"engineNode\",\n              position: { x: 100, y: 200 },\n              data: {\n                label: \"CAT 3516E\",\n                componentType: \"engine\",\n                params: DEFAULT_PARAMS.engine,\n              },\n            },\n            {\n              id: \"gearbox-1\",\n              type: \"gearboxNode\",\n              position: { x: 350, y: 200 },\n              data: {\n                label: \"7-Speed Gearbox\",\n                componentType: \"gearbox\",\n                params: DEFAULT_PARAMS.gearbox,\n              },\n            },\n            {\n              id: \"vehicle-1\",\n              type: \"vehicleNode\",\n              position: { x: 600, y: 200 },\n              data: {\n                label: \"CAT 793D\",\n                componentType: \"vehicle\",\n                params: DEFAULT_PARAMS.vehicle,\n              },\n            },\n          ],\n          edges: [\n            {\n              id: \"e-engine-gearbox\",\n              source: \"engine-1\",\n              target: \"gearbox-1\",\n              sourceHandle: \"shaft\",\n              targetHandle: \"input\",\n              type: \"mechanical\",\n            },\n            {\n              id: \"e-gearbox-vehicle\",\n              source: \"gearbox-1\",\n              target: \"vehicle-1\",\n              sourceHandle: \"output\",\n              targetHandle: \"wheels\",\n              type: \"mechanical\",\n            },\n          ],\n          selectedNodeId: null,\n        });\n        nodeIdCounter = 4;\n        break;\n\n      case \"ecvt-split\":\n        set({\n          nodes: [\n            {\n              id: \"engine-1\",\n              type: \"engineNode\",\n              position: { x: 100, y: 250 },\n              data: {\n                label: \"CAT 3516E\",\n                componentType: \"engine\",\n                params: DEFAULT_PARAMS.engine,\n              },\n            },\n            {\n              id: \"motor-1\",\n              type: \"motorNode\",\n              position: { x: 100, y: 100 },\n              data: {\n                label: \"MG1\",\n                componentType: \"motor\",\n                params: { ...DEFAULT_PARAMS.motor, pMax: 200000, tMax: 3000 },\n              },\n            },\n            {\n              id: \"motor-2\",\n              type: \"motorNode\",\n              position: { x: 500, y: 250 },\n              data: {\n                label: \"MG2\",\n                componentType: \"motor\",\n                params: { ...DEFAULT_PARAMS.motor, pMax: 350000, tMax: 2000, pBoost: 500000 },\n              },\n            },\n            {\n              id: \"planetary-1\",\n              type: \"planetaryNode\",\n              position: { x: 300, y: 175 },\n              data: {\n                label: \"Planetary\",\n                componentType: \"planetary\",\n                params: DEFAULT_PARAMS.planetary,\n              },\n            },\n            {\n              id: \"gearbox-1\",\n              type: \"gearboxNode\",\n              position: { x: 650, y: 250 },\n              data: {\n                label: \"2-Speed\",\n                componentType: \"gearbox\",\n                params: { ratios: [5.0, 0.67], efficiencies: [0.97, 0.97] },\n              },\n            },\n            {\n              id: \"battery-1\",\n              type: \"batteryNode\",\n              position: { x: 300, y: 400 },\n              data: {\n                label: \"Battery\",\n                componentType: \"battery\",\n                params: DEFAULT_PARAMS.battery,\n              },\n            },\n            {\n              id: \"vehicle-1\",\n              type: \"vehicleNode\",\n              position: { x: 850, y: 250 },\n              data: {\n                label: \"CAT 793D\",\n                componentType: \"vehicle\",\n                params: DEFAULT_PARAMS.vehicle,\n              },\n            },\n          ],\n          edges: [\n            { id: \"e1\", source: \"engine-1\", target: \"planetary-1\", sourceHandle: \"shaft\", targetHandle: \"carrier\", type: \"mechanical\" },\n            { id: \"e2\", source: \"motor-1\", target: \"planetary-1\", sourceHandle: \"shaft\", targetHandle: \"sun\", type: \"mechanical\" },\n            { id: \"e3\", source: \"planetary-1\", target: \"motor-2\", sourceHandle: \"ring\", targetHandle: \"shaft\", type: \"mechanical\" },\n            { id: \"e4\", source: \"motor-2\", target: \"gearbox-1\", sourceHandle: \"shaft\", targetHandle: \"input\", type: \"mechanical\" },\n            { id: \"e5\", source: \"gearbox-1\", target: \"vehicle-1\", sourceHandle: \"output\", targetHandle: \"wheels\", type: \"mechanical\" },\n            { id: \"e6\", source: \"motor-1\", target: \"battery-1\", sourceHandle: \"electrical\", targetHandle: \"electrical\", type: \"electrical\" },\n            { id: \"e7\", source: \"motor-2\", target: \"battery-1\", sourceHandle: \"electrical\", targetHandle: \"electrical\", type: \"electrical\" },\n          ],\n          selectedNodeId: null,\n        });\n        nodeIdCounter = 8;\n        break;\n\n      case \"ecvt-locked\":\n        // Similar to split but with fixed ratio instead of planetary\n        set({\n          nodes: [\n            {\n              id: \"engine-1\",\n              type: \"engineNode\",\n              position: { x: 100, y: 200 },\n              data: {\n                label: \"CAT 3516E\",\n                componentType: \"engine\",\n                params: DEFAULT_PARAMS.engine,\n              },\n            },\n            {\n              id: \"motor-2\",\n              type: \"motorNode\",\n              position: { x: 350, y: 200 },\n              data: {\n                label: \"MG2\",\n                componentType: \"motor\",\n                params: { ...DEFAULT_PARAMS.motor, pMax: 350000, tMax: 2000, pBoost: 500000 },\n              },\n            },\n            {\n              id: \"gearbox-1\",\n              type: \"gearboxNode\",\n              position: { x: 550, y: 200 },\n              data: {\n                label: \"2-Speed\",\n                componentType: \"gearbox\",\n                params: { ratios: [5.0, 0.67], efficiencies: [0.97, 0.97] },\n              },\n            },\n            {\n              id: \"battery-1\",\n              type: \"batteryNode\",\n              position: { x: 350, y: 350 },\n              data: {\n                label: \"Battery\",\n                componentType: \"battery\",\n                params: DEFAULT_PARAMS.battery,\n              },\n            },\n            {\n              id: \"vehicle-1\",\n              type: \"vehicleNode\",\n              position: { x: 750, y: 200 },\n              data: {\n                label: \"CAT 793D\",\n                componentType: \"vehicle\",\n                params: DEFAULT_PARAMS.vehicle,\n              },\n            },\n          ],\n          edges: [\n            { id: \"e1\", source: \"engine-1\", target: \"motor-2\", sourceHandle: \"shaft\", targetHandle: \"shaft\", type: \"mechanical\" },\n            { id: \"e2\", source: \"motor-2\", target: \"gearbox-1\", sourceHandle: \"shaft\", targetHandle: \"input\", type: \"mechanical\" },\n            { id: \"e3\", source: \"gearbox-1\", target: \"vehicle-1\", sourceHandle: \"output\", targetHandle: \"wheels\", type: \"mechanical\" },\n            { id: \"e4\", source: \"motor-2\", target: \"battery-1\", sourceHandle: \"electrical\", targetHandle: \"electrical\", type: \"electrical\" },\n          ],\n          selectedNodeId: null,\n        });\n        nodeIdCounter = 6;\n        break;\n    }\n  },\n\n  clearAll: () => {\n    nodeIdCounter = 1;\n    set({\n      nodes: [],\n      edges: [],\n      selectedNodeId: null,\n    });\n  },\n}));\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 548, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 566, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/nodes/BaseNode.tsx"],"sourcesContent":["\"use client\";\n\nimport { Handle, Position, type NodeProps, type Node } from \"@xyflow/react\";\nimport { cn } from \"@/lib/utils\";\nimport { useDrivetrainStore, type BaseNodeData } from \"@/stores/drivetrain-store\";\n\nexport interface NodeHandle {\n  id: string;\n  type: \"mechanical\" | \"electrical\";\n  position: Position;\n  label: string;\n}\n\ninterface BaseNodeProps extends NodeProps<Node<BaseNodeData>> {\n  icon: React.ReactNode;\n  color: string;\n  handles: NodeHandle[];\n  children?: React.ReactNode;\n}\n\nexport function BaseNode({\n  id,\n  data,\n  selected,\n  icon,\n  color,\n  handles,\n  children,\n}: BaseNodeProps) {\n  const setSelectedNode = useDrivetrainStore((s) => s.setSelectedNode);\n\n  return (\n    <div\n      className={cn(\n        \"relative min-w-[140px] rounded-lg border-2 bg-surface p-3 shadow-lg transition-all\",\n        selected ? \"border-accent shadow-accent/20\" : \"border-subtle hover:border-secondary\"\n      )}\n      onClick={() => setSelectedNode(id)}\n    >\n      {/* Handles */}\n      {handles.map((handle) => (\n        <Handle\n          key={handle.id}\n          id={handle.id}\n          type={handle.position === Position.Left || handle.position === Position.Top ? \"target\" : \"source\"}\n          position={handle.position}\n          className={cn(\n            \"!h-3 !w-3 !rounded-full !border-2 !border-dark transition-all hover:!scale-125\",\n            handle.type === \"mechanical\" ? \"!bg-emerald-500\" : \"!bg-amber-500\"\n          )}\n          title={handle.label}\n        />\n      ))}\n\n      {/* Header */}\n      <div className=\"flex items-center gap-2 mb-2\">\n        <div\n          className={cn(\"flex h-8 w-8 items-center justify-center rounded-md\", color)}\n        >\n          {icon}\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"text-sm font-medium text-primary truncate\">{data.label}</div>\n          <div className=\"text-xs text-muted\">{data.componentType}</div>\n        </div>\n      </div>\n\n      {/* Content */}\n      {children && <div className=\"mt-2 text-xs text-secondary\">{children}</div>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;;;AAJA;;;;AAoBO,SAAS,SAAS,EACvB,EAAE,EACF,IAAI,EACJ,QAAQ,EACR,IAAI,EACJ,KAAK,EACL,OAAO,EACP,QAAQ,EACM;;IACd,MAAM,kBAAkB,IAAA,qLAAkB;wDAAC,CAAC,IAAM,EAAE,eAAe;;IAEnE,qBACE,6LAAC;QACC,WAAW,IAAA,oJAAE,EACX,sFACA,WAAW,mCAAmC;QAEhD,SAAS,IAAM,gBAAgB;;YAG9B,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC,sLAAM;oBAEL,IAAI,OAAO,EAAE;oBACb,MAAM,OAAO,QAAQ,KAAK,yKAAQ,CAAC,IAAI,IAAI,OAAO,QAAQ,KAAK,yKAAQ,CAAC,GAAG,GAAG,WAAW;oBACzF,UAAU,OAAO,QAAQ;oBACzB,WAAW,IAAA,oJAAE,EACX,kFACA,OAAO,IAAI,KAAK,eAAe,oBAAoB;oBAErD,OAAO,OAAO,KAAK;mBARd,OAAO,EAAE;;;;;0BAalB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAW,IAAA,oJAAE,EAAC,uDAAuD;kCAEpE;;;;;;kCAEH,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAA6C,KAAK,KAAK;;;;;;0CACtE,6LAAC;gCAAI,WAAU;0CAAsB,KAAK,aAAa;;;;;;;;;;;;;;;;;;YAK1D,0BAAY,6LAAC;gBAAI,WAAU;0BAA+B;;;;;;;;;;;;AAGjE;GAnDgB;;QASU,qLAAkB;;;KAT5B","debugId":null}},
    {"offset": {"line": 673, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/nodes/EngineNode.tsx"],"sourcesContent":["\"use client\";\n\nimport { Position, type NodeProps, type Node } from \"@xyflow/react\";\nimport { Flame } from \"lucide-react\";\nimport { BaseNode, type NodeHandle } from \"./BaseNode\";\nimport { type BaseNodeData } from \"@/stores/drivetrain-store\";\n\nconst handles: NodeHandle[] = [\n  { id: \"shaft\", type: \"mechanical\", position: Position.Right, label: \"Crankshaft\" },\n];\n\nexport function EngineNode(props: NodeProps<Node<BaseNodeData>>) {\n  const { data } = props;\n  const params = data.params as {\n    rpmIdle?: number;\n    rpmMax?: number;\n    pRated?: number;\n    tPeak?: number;\n  };\n\n  return (\n    <BaseNode\n      {...props}\n      icon={<Flame className=\"h-4 w-4 text-white\" />}\n      color=\"bg-red-600\"\n      handles={handles}\n    >\n      <div className=\"space-y-1\">\n        <div className=\"flex justify-between\">\n          <span>Power:</span>\n          <span className=\"text-primary\">{((params.pRated ?? 1800000) / 1000).toFixed(0)} kW</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Torque:</span>\n          <span className=\"text-primary\">{(params.tPeak ?? 11220).toLocaleString()} N·m</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>RPM:</span>\n          <span className=\"text-primary\">{params.rpmIdle ?? 700} - {params.rpmMax ?? 1800}</span>\n        </div>\n      </div>\n    </BaseNode>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAOA,MAAM,UAAwB;IAC5B;QAAE,IAAI;QAAS,MAAM;QAAc,UAAU,yKAAQ,CAAC,KAAK;QAAE,OAAO;IAAa;CAClF;AAEM,SAAS,WAAW,KAAoC;IAC7D,MAAM,EAAE,IAAI,EAAE,GAAG;IACjB,MAAM,SAAS,KAAK,MAAM;IAO1B,qBACE,6LAAC,8KAAQ;QACN,GAAG,KAAK;QACT,oBAAM,6LAAC,gNAAK;YAAC,WAAU;;;;;;QACvB,OAAM;QACN,SAAS;kBAET,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,CAAC,OAAO,MAAM,IAAI,OAAO,IAAI,IAAI,EAAE,OAAO,CAAC;gCAAG;;;;;;;;;;;;;8BAEjF,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,OAAO,KAAK,IAAI,KAAK,EAAE,cAAc;gCAAG;;;;;;;;;;;;;8BAE3E,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,OAAO,OAAO,IAAI;gCAAI;gCAAI,OAAO,MAAM,IAAI;;;;;;;;;;;;;;;;;;;;;;;;AAKrF;KAhCgB","debugId":null}},
    {"offset": {"line": 815, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/nodes/MotorNode.tsx"],"sourcesContent":["\"use client\";\n\nimport { Position, type NodeProps, type Node } from \"@xyflow/react\";\nimport { Zap } from \"lucide-react\";\nimport { BaseNode, type NodeHandle } from \"./BaseNode\";\nimport { type BaseNodeData } from \"@/stores/drivetrain-store\";\n\nconst handles: NodeHandle[] = [\n  { id: \"shaft\", type: \"mechanical\", position: Position.Right, label: \"Motor Shaft\" },\n  { id: \"electrical\", type: \"electrical\", position: Position.Bottom, label: \"Electrical\" },\n];\n\nexport function MotorNode(props: NodeProps<Node<BaseNodeData>>) {\n  const { data } = props;\n  const params = data.params as {\n    pMax?: number;\n    tMax?: number;\n    rpmMax?: number;\n    eta?: number;\n    pBoost?: number;\n  };\n\n  return (\n    <BaseNode\n      {...props}\n      icon={<Zap className=\"h-4 w-4 text-white\" />}\n      color=\"bg-blue-600\"\n      handles={handles}\n    >\n      <div className=\"space-y-1\">\n        <div className=\"flex justify-between\">\n          <span>Power:</span>\n          <span className=\"text-primary\">{((params.pMax ?? 200000) / 1000).toFixed(0)} kW</span>\n        </div>\n        {params.pBoost && (\n          <div className=\"flex justify-between\">\n            <span>Boost:</span>\n            <span className=\"text-accent\">{(params.pBoost / 1000).toFixed(0)} kW</span>\n          </div>\n        )}\n        <div className=\"flex justify-between\">\n          <span>Torque:</span>\n          <span className=\"text-primary\">{(params.tMax ?? 3000).toLocaleString()} N·m</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Efficiency:</span>\n          <span className=\"text-primary\">{((params.eta ?? 0.92) * 100).toFixed(0)}%</span>\n        </div>\n      </div>\n    </BaseNode>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAOA,MAAM,UAAwB;IAC5B;QAAE,IAAI;QAAS,MAAM;QAAc,UAAU,yKAAQ,CAAC,KAAK;QAAE,OAAO;IAAc;IAClF;QAAE,IAAI;QAAc,MAAM;QAAc,UAAU,yKAAQ,CAAC,MAAM;QAAE,OAAO;IAAa;CACxF;AAEM,SAAS,UAAU,KAAoC;IAC5D,MAAM,EAAE,IAAI,EAAE,GAAG;IACjB,MAAM,SAAS,KAAK,MAAM;IAQ1B,qBACE,6LAAC,8KAAQ;QACN,GAAG,KAAK;QACT,oBAAM,6LAAC,0MAAG;YAAC,WAAU;;;;;;QACrB,OAAM;QACN,SAAS;kBAET,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,CAAC,OAAO,IAAI,IAAI,MAAM,IAAI,IAAI,EAAE,OAAO,CAAC;gCAAG;;;;;;;;;;;;;gBAE7E,OAAO,MAAM,kBACZ,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAe,CAAC,OAAO,MAAM,GAAG,IAAI,EAAE,OAAO,CAAC;gCAAG;;;;;;;;;;;;;8BAGrE,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,OAAO,IAAI,IAAI,IAAI,EAAE,cAAc;gCAAG;;;;;;;;;;;;;8BAEzE,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,CAAC,OAAO,GAAG,IAAI,IAAI,IAAI,GAAG,EAAE,OAAO,CAAC;gCAAG;;;;;;;;;;;;;;;;;;;;;;;;AAKlF;KAvCgB","debugId":null}},
    {"offset": {"line": 989, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/nodes/GearboxNode.tsx"],"sourcesContent":["\"use client\";\n\nimport { Position, type NodeProps, type Node } from \"@xyflow/react\";\nimport { Settings } from \"lucide-react\";\nimport { BaseNode, type NodeHandle } from \"./BaseNode\";\nimport { type BaseNodeData } from \"@/stores/drivetrain-store\";\n\nconst handles: NodeHandle[] = [\n  { id: \"input\", type: \"mechanical\", position: Position.Left, label: \"Input Shaft\" },\n  { id: \"output\", type: \"mechanical\", position: Position.Right, label: \"Output Shaft\" },\n];\n\nexport function GearboxNode(props: NodeProps<Node<BaseNodeData>>) {\n  const { data } = props;\n  const params = data.params as {\n    ratios?: number[];\n    efficiencies?: number[];\n  };\n\n  const ratios = params.ratios ?? [1.0];\n\n  return (\n    <BaseNode\n      {...props}\n      icon={<Settings className=\"h-4 w-4 text-white\" />}\n      color=\"bg-purple-600\"\n      handles={handles}\n    >\n      <div className=\"space-y-1\">\n        <div className=\"flex justify-between\">\n          <span>Gears:</span>\n          <span className=\"text-primary\">{ratios.length}</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Ratios:</span>\n          <span className=\"text-primary text-right truncate max-w-[80px]\" title={ratios.map(r => r.toFixed(2)).join(\", \")}>\n            {ratios[0].toFixed(2)} - {ratios[ratios.length - 1].toFixed(2)}\n          </span>\n        </div>\n      </div>\n    </BaseNode>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAOA,MAAM,UAAwB;IAC5B;QAAE,IAAI;QAAS,MAAM;QAAc,UAAU,yKAAQ,CAAC,IAAI;QAAE,OAAO;IAAc;IACjF;QAAE,IAAI;QAAU,MAAM;QAAc,UAAU,yKAAQ,CAAC,KAAK;QAAE,OAAO;IAAe;CACrF;AAEM,SAAS,YAAY,KAAoC;IAC9D,MAAM,EAAE,IAAI,EAAE,GAAG;IACjB,MAAM,SAAS,KAAK,MAAM;IAK1B,MAAM,SAAS,OAAO,MAAM,IAAI;QAAC;KAAI;IAErC,qBACE,6LAAC,8KAAQ;QACN,GAAG,KAAK;QACT,oBAAM,6LAAC,yNAAQ;YAAC,WAAU;;;;;;QAC1B,OAAM;QACN,SAAS;kBAET,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;sCAAgB,OAAO,MAAM;;;;;;;;;;;;8BAE/C,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;4BAAgD,OAAO,OAAO,GAAG,CAAC,CAAA,IAAK,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;;gCACvG,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC;gCAAG;gCAAI,MAAM,CAAC,OAAO,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;AAMxE;KA9BgB","debugId":null}},
    {"offset": {"line": 1111, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/nodes/PlanetaryNode.tsx"],"sourcesContent":["\"use client\";\n\nimport { Position, type NodeProps, type Node } from \"@xyflow/react\";\nimport { Circle } from \"lucide-react\";\nimport { BaseNode, type NodeHandle } from \"./BaseNode\";\nimport { type BaseNodeData } from \"@/stores/drivetrain-store\";\n\nconst handles: NodeHandle[] = [\n  { id: \"sun\", type: \"mechanical\", position: Position.Top, label: \"Sun Gear\" },\n  { id: \"carrier\", type: \"mechanical\", position: Position.Left, label: \"Carrier\" },\n  { id: \"ring\", type: \"mechanical\", position: Position.Right, label: \"Ring Gear\" },\n];\n\nexport function PlanetaryNode(props: NodeProps<Node<BaseNodeData>>) {\n  const { data } = props;\n  const params = data.params as {\n    zSun?: number;\n    zRing?: number;\n  };\n\n  const zSun = params.zSun ?? 30;\n  const zRing = params.zRing ?? 90;\n  const rho = zRing / zSun;\n\n  return (\n    <BaseNode\n      {...props}\n      icon={<Circle className=\"h-4 w-4 text-white\" />}\n      color=\"bg-teal-600\"\n      handles={handles}\n    >\n      <div className=\"space-y-1\">\n        <div className=\"flex justify-between\">\n          <span>Sun:</span>\n          <span className=\"text-primary\">{zSun} teeth</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Ring:</span>\n          <span className=\"text-primary\">{zRing} teeth</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>ρ:</span>\n          <span className=\"text-primary\">{rho.toFixed(1)}</span>\n        </div>\n      </div>\n    </BaseNode>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAOA,MAAM,UAAwB;IAC5B;QAAE,IAAI;QAAO,MAAM;QAAc,UAAU,yKAAQ,CAAC,GAAG;QAAE,OAAO;IAAW;IAC3E;QAAE,IAAI;QAAW,MAAM;QAAc,UAAU,yKAAQ,CAAC,IAAI;QAAE,OAAO;IAAU;IAC/E;QAAE,IAAI;QAAQ,MAAM;QAAc,UAAU,yKAAQ,CAAC,KAAK;QAAE,OAAO;IAAY;CAChF;AAEM,SAAS,cAAc,KAAoC;IAChE,MAAM,EAAE,IAAI,EAAE,GAAG;IACjB,MAAM,SAAS,KAAK,MAAM;IAK1B,MAAM,OAAO,OAAO,IAAI,IAAI;IAC5B,MAAM,QAAQ,OAAO,KAAK,IAAI;IAC9B,MAAM,MAAM,QAAQ;IAEpB,qBACE,6LAAC,8KAAQ;QACN,GAAG,KAAK;QACT,oBAAM,6LAAC,mNAAM;YAAC,WAAU;;;;;;QACxB,OAAM;QACN,SAAS;kBAET,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB;gCAAK;;;;;;;;;;;;;8BAEvC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB;gCAAM;;;;;;;;;;;;;8BAExC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;sCAAgB,IAAI,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAKtD;KAlCgB","debugId":null}},
    {"offset": {"line": 1264, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/nodes/BatteryNode.tsx"],"sourcesContent":["\"use client\";\n\nimport { Position, type NodeProps, type Node } from \"@xyflow/react\";\nimport { Battery } from \"lucide-react\";\nimport { BaseNode, type NodeHandle } from \"./BaseNode\";\nimport { type BaseNodeData } from \"@/stores/drivetrain-store\";\n\nconst handles: NodeHandle[] = [\n  { id: \"electrical\", type: \"electrical\", position: Position.Top, label: \"Electrical\" },\n];\n\nexport function BatteryNode(props: NodeProps<Node<BaseNodeData>>) {\n  const { data } = props;\n  const params = data.params as {\n    capacityKwh?: number;\n    vNom?: number;\n    pMaxDischarge?: number;\n    pMaxCharge?: number;\n    socInit?: number;\n  };\n\n  return (\n    <BaseNode\n      {...props}\n      icon={<Battery className=\"h-4 w-4 text-white\" />}\n      color=\"bg-amber-600\"\n      handles={handles}\n    >\n      <div className=\"space-y-1\">\n        <div className=\"flex justify-between\">\n          <span>Capacity:</span>\n          <span className=\"text-primary\">{params.capacityKwh ?? 200} kWh</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Voltage:</span>\n          <span className=\"text-primary\">{params.vNom ?? 700} V</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>P max:</span>\n          <span className=\"text-primary\">{((params.pMaxDischarge ?? 1000000) / 1000).toFixed(0)} kW</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>SOC:</span>\n          <span className=\"text-primary\">{((params.socInit ?? 0.6) * 100).toFixed(0)}%</span>\n        </div>\n      </div>\n    </BaseNode>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAOA,MAAM,UAAwB;IAC5B;QAAE,IAAI;QAAc,MAAM;QAAc,UAAU,yKAAQ,CAAC,GAAG;QAAE,OAAO;IAAa;CACrF;AAEM,SAAS,YAAY,KAAoC;IAC9D,MAAM,EAAE,IAAI,EAAE,GAAG;IACjB,MAAM,SAAS,KAAK,MAAM;IAQ1B,qBACE,6LAAC,8KAAQ;QACN,GAAG,KAAK;QACT,oBAAM,6LAAC,sNAAO;YAAC,WAAU;;;;;;QACzB,OAAM;QACN,SAAS;kBAET,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,OAAO,WAAW,IAAI;gCAAI;;;;;;;;;;;;;8BAE5D,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,OAAO,IAAI,IAAI;gCAAI;;;;;;;;;;;;;8BAErD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,CAAC,OAAO,aAAa,IAAI,OAAO,IAAI,IAAI,EAAE,OAAO,CAAC;gCAAG;;;;;;;;;;;;;8BAExF,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,CAAC,OAAO,OAAO,IAAI,GAAG,IAAI,GAAG,EAAE,OAAO,CAAC;gCAAG;;;;;;;;;;;;;;;;;;;;;;;;AAKrF;KArCgB","debugId":null}},
    {"offset": {"line": 1432, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/nodes/VehicleNode.tsx"],"sourcesContent":["\"use client\";\n\nimport { Position, type NodeProps, type Node } from \"@xyflow/react\";\nimport { Truck } from \"lucide-react\";\nimport { BaseNode, type NodeHandle } from \"./BaseNode\";\nimport { type BaseNodeData } from \"@/stores/drivetrain-store\";\n\nconst handles: NodeHandle[] = [\n  { id: \"wheels\", type: \"mechanical\", position: Position.Left, label: \"Wheel Input\" },\n];\n\nexport function VehicleNode(props: NodeProps<Node<BaseNodeData>>) {\n  const { data } = props;\n  const params = data.params as {\n    mEmpty?: number;\n    mPayload?: number;\n    rWheel?: number;\n    cR?: number;\n    vMax?: number;\n  };\n\n  const mTotal = (params.mEmpty ?? 159350) + (params.mPayload ?? 190000);\n\n  return (\n    <BaseNode\n      {...props}\n      icon={<Truck className=\"h-4 w-4 text-white\" />}\n      color=\"bg-green-600\"\n      handles={handles}\n    >\n      <div className=\"space-y-1\">\n        <div className=\"flex justify-between\">\n          <span>Mass:</span>\n          <span className=\"text-primary\">{(mTotal / 1000).toFixed(0)} t</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Wheel R:</span>\n          <span className=\"text-primary\">{params.rWheel ?? 1.78} m</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Rolling:</span>\n          <span className=\"text-primary\">{((params.cR ?? 0.025) * 100).toFixed(1)}%</span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>V max:</span>\n          <span className=\"text-primary\">{((params.vMax ?? 15) * 3.6).toFixed(0)} km/h</span>\n        </div>\n      </div>\n    </BaseNode>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAOA,MAAM,UAAwB;IAC5B;QAAE,IAAI;QAAU,MAAM;QAAc,UAAU,yKAAQ,CAAC,IAAI;QAAE,OAAO;IAAc;CACnF;AAEM,SAAS,YAAY,KAAoC;IAC9D,MAAM,EAAE,IAAI,EAAE,GAAG;IACjB,MAAM,SAAS,KAAK,MAAM;IAQ1B,MAAM,SAAS,CAAC,OAAO,MAAM,IAAI,MAAM,IAAI,CAAC,OAAO,QAAQ,IAAI,MAAM;IAErE,qBACE,6LAAC,8KAAQ;QACN,GAAG,KAAK;QACT,oBAAM,6LAAC,gNAAK;YAAC,WAAU;;;;;;QACvB,OAAM;QACN,SAAS;kBAET,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,SAAS,IAAI,EAAE,OAAO,CAAC;gCAAG;;;;;;;;;;;;;8BAE7D,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,OAAO,MAAM,IAAI;gCAAK;;;;;;;;;;;;;8BAExD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,CAAC,OAAO,EAAE,IAAI,KAAK,IAAI,GAAG,EAAE,OAAO,CAAC;gCAAG;;;;;;;;;;;;;8BAE1E,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;sCAAK;;;;;;sCACN,6LAAC;4BAAK,WAAU;;gCAAgB,CAAC,CAAC,OAAO,IAAI,IAAI,EAAE,IAAI,GAAG,EAAE,OAAO,CAAC;gCAAG;;;;;;;;;;;;;;;;;;;;;;;;AAKjF;KAvCgB","debugId":null}},
    {"offset": {"line": 1601, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/nodes/index.ts"],"sourcesContent":["export { EngineNode } from \"./EngineNode\";\nexport { MotorNode } from \"./MotorNode\";\nexport { GearboxNode } from \"./GearboxNode\";\nexport { PlanetaryNode } from \"./PlanetaryNode\";\nexport { BatteryNode } from \"./BatteryNode\";\nexport { VehicleNode } from \"./VehicleNode\";\n\nimport { EngineNode } from \"./EngineNode\";\nimport { MotorNode } from \"./MotorNode\";\nimport { GearboxNode } from \"./GearboxNode\";\nimport { PlanetaryNode } from \"./PlanetaryNode\";\nimport { BatteryNode } from \"./BatteryNode\";\nimport { VehicleNode } from \"./VehicleNode\";\n\nexport const nodeTypes = {\n  engineNode: EngineNode,\n  motorNode: MotorNode,\n  gearboxNode: GearboxNode,\n  planetaryNode: PlanetaryNode,\n  batteryNode: BatteryNode,\n  vehicleNode: VehicleNode,\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AASO,MAAM,YAAY;IACvB,YAAY,kLAAU;IACtB,WAAW,gLAAS;IACpB,aAAa,oLAAW;IACxB,eAAe,wLAAa;IAC5B,aAAa,oLAAW;IACxB,aAAa,oLAAW;AAC1B","debugId":null}},
    {"offset": {"line": 1638, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-4 rounded-xl border p-4 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\"flex flex-col gap-1\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"h3\">) {\n  return (\n    <h3\n      data-slot=\"card-title\"\n      className={cn(\"text-lg font-semibold leading-none\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div data-slot=\"card-content\" className={cn(\"\", className)} {...props} />\n  );\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center gap-2\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,oFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAkC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QAAI,aAAU;QAAe,WAAW,IAAA,oJAAE,EAAC,IAAI;QAAa,GAAG,KAAK;;;;;;AAEzE;MAJS;AAMT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 1743, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-white hover:bg-destructive/90\",\n        outline: \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        accent: \"bg-accent text-accent-foreground hover:bg-accent-hover\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,wVACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;YACN,QAAQ;QACV;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 1809, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/panels/ComponentPalette.tsx"],"sourcesContent":["\"use client\";\n\nimport { Flame, Zap, Settings, Circle, Battery, Truck } from \"lucide-react\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { useDrivetrainStore, type ComponentType, type PresetName } from \"@/stores/drivetrain-store\";\nimport { cn } from \"@/lib/utils\";\n\nconst COMPONENT_ITEMS: {\n  type: ComponentType;\n  label: string;\n  icon: React.ReactNode;\n  color: string;\n}[] = [\n  { type: \"engine\", label: \"Engine\", icon: <Flame className=\"h-4 w-4\" />, color: \"bg-red-600\" },\n  { type: \"motor\", label: \"Motor\", icon: <Zap className=\"h-4 w-4\" />, color: \"bg-blue-600\" },\n  { type: \"gearbox\", label: \"Gearbox\", icon: <Settings className=\"h-4 w-4\" />, color: \"bg-purple-600\" },\n  { type: \"planetary\", label: \"Planetary\", icon: <Circle className=\"h-4 w-4\" />, color: \"bg-teal-600\" },\n  { type: \"battery\", label: \"Battery\", icon: <Battery className=\"h-4 w-4\" />, color: \"bg-amber-600\" },\n  { type: \"vehicle\", label: \"Vehicle\", icon: <Truck className=\"h-4 w-4\" />, color: \"bg-green-600\" },\n];\n\nconst PRESETS: { name: PresetName; label: string }[] = [\n  { name: \"diesel-793d\", label: \"CAT 793D Diesel\" },\n  { name: \"ecvt-split\", label: \"eCVT Power Split\" },\n  { name: \"ecvt-locked\", label: \"eCVT Locked Sun\" },\n];\n\nexport function ComponentPalette() {\n  const addNode = useDrivetrainStore((s) => s.addNode);\n  const loadPreset = useDrivetrainStore((s) => s.loadPreset);\n  const clearAll = useDrivetrainStore((s) => s.clearAll);\n\n  const handleDragStart = (e: React.DragEvent, type: ComponentType) => {\n    e.dataTransfer.setData(\"application/reactflow\", type);\n    e.dataTransfer.effectAllowed = \"move\";\n  };\n\n  return (\n    <div className=\"w-64 flex flex-col gap-4 p-4 bg-dark border-r border-subtle overflow-y-auto\">\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"text-sm\">Components</CardTitle>\n        </CardHeader>\n        <CardContent className=\"grid grid-cols-2 gap-2\">\n          {COMPONENT_ITEMS.map((item) => (\n            <div\n              key={item.type}\n              draggable\n              onDragStart={(e) => handleDragStart(e, item.type)}\n              className={cn(\n                \"flex flex-col items-center gap-1 p-2 rounded-lg border border-subtle cursor-grab\",\n                \"hover:border-secondary hover:bg-surface/50 transition-all\"\n              )}\n            >\n              <div className={cn(\"p-2 rounded-md text-white\", item.color)}>\n                {item.icon}\n              </div>\n              <span className=\"text-xs text-secondary\">{item.label}</span>\n            </div>\n          ))}\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"text-sm\">Presets</CardTitle>\n        </CardHeader>\n        <CardContent className=\"flex flex-col gap-2\">\n          {PRESETS.map((preset) => (\n            <Button\n              key={preset.name}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"justify-start\"\n              onClick={() => loadPreset(preset.name)}\n            >\n              {preset.label}\n            </Button>\n          ))}\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"justify-start text-destructive hover:text-destructive\"\n            onClick={clearAll}\n          >\n            Clear All\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQA,MAAM,kBAKA;IACJ;QAAE,MAAM;QAAU,OAAO;QAAU,oBAAM,6LAAC,gNAAK;YAAC,WAAU;;;;;;QAAc,OAAO;IAAa;IAC5F;QAAE,MAAM;QAAS,OAAO;QAAS,oBAAM,6LAAC,0MAAG;YAAC,WAAU;;;;;;QAAc,OAAO;IAAc;IACzF;QAAE,MAAM;QAAW,OAAO;QAAW,oBAAM,6LAAC,yNAAQ;YAAC,WAAU;;;;;;QAAc,OAAO;IAAgB;IACpG;QAAE,MAAM;QAAa,OAAO;QAAa,oBAAM,6LAAC,mNAAM;YAAC,WAAU;;;;;;QAAc,OAAO;IAAc;IACpG;QAAE,MAAM;QAAW,OAAO;QAAW,oBAAM,6LAAC,sNAAO;YAAC,WAAU;;;;;;QAAc,OAAO;IAAe;IAClG;QAAE,MAAM;QAAW,OAAO;QAAW,oBAAM,6LAAC,gNAAK;YAAC,WAAU;;;;;;QAAc,OAAO;IAAe;CACjG;AAED,MAAM,UAAiD;IACrD;QAAE,MAAM;QAAe,OAAO;IAAkB;IAChD;QAAE,MAAM;QAAc,OAAO;IAAmB;IAChD;QAAE,MAAM;QAAe,OAAO;IAAkB;CACjD;AAEM,SAAS;;IACd,MAAM,UAAU,IAAA,qLAAkB;wDAAC,CAAC,IAAM,EAAE,OAAO;;IACnD,MAAM,aAAa,IAAA,qLAAkB;2DAAC,CAAC,IAAM,EAAE,UAAU;;IACzD,MAAM,WAAW,IAAA,qLAAkB;yDAAC,CAAC,IAAM,EAAE,QAAQ;;IAErD,MAAM,kBAAkB,CAAC,GAAoB;QAC3C,EAAE,YAAY,CAAC,OAAO,CAAC,yBAAyB;QAChD,EAAE,YAAY,CAAC,aAAa,GAAG;IACjC;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,mKAAI;;kCACH,6LAAC,yKAAU;wBAAC,WAAU;kCACpB,cAAA,6LAAC,wKAAS;4BAAC,WAAU;sCAAU;;;;;;;;;;;kCAEjC,6LAAC,0KAAW;wBAAC,WAAU;kCACpB,gBAAgB,GAAG,CAAC,CAAC,qBACpB,6LAAC;gCAEC,SAAS;gCACT,aAAa,CAAC,IAAM,gBAAgB,GAAG,KAAK,IAAI;gCAChD,WAAW,IAAA,oJAAE,EACX,oFACA;;kDAGF,6LAAC;wCAAI,WAAW,IAAA,oJAAE,EAAC,6BAA6B,KAAK,KAAK;kDACvD,KAAK,IAAI;;;;;;kDAEZ,6LAAC;wCAAK,WAAU;kDAA0B,KAAK,KAAK;;;;;;;+BAX/C,KAAK,IAAI;;;;;;;;;;;;;;;;0BAiBtB,6LAAC,mKAAI;;kCACH,6LAAC,yKAAU;wBAAC,WAAU;kCACpB,cAAA,6LAAC,wKAAS;4BAAC,WAAU;sCAAU;;;;;;;;;;;kCAEjC,6LAAC,0KAAW;wBAAC,WAAU;;4BACpB,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC,uKAAM;oCAEL,SAAQ;oCACR,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,WAAW,OAAO,IAAI;8CAEpC,OAAO,KAAK;mCANR,OAAO,IAAI;;;;;0CASpB,6LAAC,uKAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,SAAS;0CACV;;;;;;;;;;;;;;;;;;;;;;;;AAOX;GAhEgB;;QACE,qLAAkB;QACf,qLAAkB;QACpB,qLAAkB;;;KAHrB","debugId":null}},
    {"offset": {"line": 2073, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"placeholder:text-muted-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-sm shadow-xs transition-[color,box-shadow] outline-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AACA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,2QACA,iFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAbS","debugId":null}},
    {"offset": {"line": 2104, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cn } from \"@/lib/utils\";\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 2136, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/ui/separator.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\nimport { cn } from \"@/lib/utils\";\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0\",\n        orientation === \"horizontal\" ? \"h-px w-full\" : \"h-full w-px\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Separator };\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAMA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,oJAAE,EACX,sBACA,gBAAgB,eAAe,gBAAgB,eAC/C;QAED,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 2171, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/panels/PropertiesPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Trash2 } from \"lucide-react\";\nimport { useDrivetrainStore, type ComponentType } from \"@/stores/drivetrain-store\";\n\n// Parameter definitions for each component type\nconst PARAM_DEFS: Record<\n  ComponentType,\n  Array<{ key: string; label: string; unit?: string; step?: number }>\n> = {\n  engine: [\n    { key: \"rpmIdle\", label: \"Idle RPM\", unit: \"rpm\" },\n    { key: \"rpmMax\", label: \"Max RPM\", unit: \"rpm\" },\n    { key: \"pRated\", label: \"Rated Power\", unit: \"W\" },\n    { key: \"tPeak\", label: \"Peak Torque\", unit: \"N·m\" },\n  ],\n  motor: [\n    { key: \"pMax\", label: \"Max Power\", unit: \"W\" },\n    { key: \"pBoost\", label: \"Boost Power\", unit: \"W\" },\n    { key: \"tMax\", label: \"Max Torque\", unit: \"N·m\" },\n    { key: \"rpmMax\", label: \"Max RPM\", unit: \"rpm\" },\n    { key: \"eta\", label: \"Efficiency\", step: 0.01 },\n  ],\n  gearbox: [\n    { key: \"ratios\", label: \"Ratios (comma-sep)\" },\n  ],\n  planetary: [\n    { key: \"zSun\", label: \"Sun Teeth\" },\n    { key: \"zRing\", label: \"Ring Teeth\" },\n  ],\n  battery: [\n    { key: \"capacityKwh\", label: \"Capacity\", unit: \"kWh\" },\n    { key: \"vNom\", label: \"Voltage\", unit: \"V\" },\n    { key: \"pMaxDischarge\", label: \"Max Discharge\", unit: \"W\" },\n    { key: \"pMaxCharge\", label: \"Max Charge\", unit: \"W\" },\n    { key: \"socInit\", label: \"Initial SOC\", step: 0.01 },\n  ],\n  vehicle: [\n    { key: \"mEmpty\", label: \"Empty Mass\", unit: \"kg\" },\n    { key: \"mPayload\", label: \"Payload\", unit: \"kg\" },\n    { key: \"rWheel\", label: \"Wheel Radius\", unit: \"m\", step: 0.01 },\n    { key: \"cR\", label: \"Rolling Coeff\", step: 0.001 },\n    { key: \"vMax\", label: \"Max Speed\", unit: \"m/s\" },\n  ],\n};\n\nexport function PropertiesPanel() {\n  const nodes = useDrivetrainStore((s) => s.nodes);\n  const selectedNodeId = useDrivetrainStore((s) => s.selectedNodeId);\n  const updateNodeParams = useDrivetrainStore((s) => s.updateNodeParams);\n  const removeNode = useDrivetrainStore((s) => s.removeNode);\n  const setSelectedNode = useDrivetrainStore((s) => s.setSelectedNode);\n\n  const selectedNode = nodes.find((n) => n.id === selectedNodeId);\n\n  if (!selectedNode) {\n    return (\n      <div className=\"w-72 p-4 bg-dark border-l border-subtle\">\n        <Card>\n          <CardContent className=\"py-8 text-center text-muted\">\n            Select a component to edit its properties\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const componentType = selectedNode.data.componentType;\n  const params = selectedNode.data.params;\n  const paramDefs = PARAM_DEFS[componentType] ?? [];\n\n  const handleChange = (key: string, value: string) => {\n    let parsedValue: unknown = value;\n\n    // Special handling for ratios array\n    if (key === \"ratios\") {\n      parsedValue = value.split(\",\").map((v) => parseFloat(v.trim())).filter((v) => !isNaN(v));\n    } else {\n      const num = parseFloat(value);\n      if (!isNaN(num)) {\n        parsedValue = num;\n      }\n    }\n\n    updateNodeParams(selectedNode.id, { [key]: parsedValue });\n  };\n\n  const handleDelete = () => {\n    removeNode(selectedNode.id);\n    setSelectedNode(null);\n  };\n\n  return (\n    <div className=\"w-72 flex flex-col gap-4 p-4 bg-dark border-l border-subtle overflow-y-auto\">\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"text-sm flex items-center justify-between\">\n            <span>{selectedNode.data.label}</span>\n            <Button\n              variant=\"ghost\"\n              size=\"icon-sm\"\n              className=\"text-destructive hover:text-destructive hover:bg-destructive/10\"\n              onClick={handleDelete}\n            >\n              <Trash2 className=\"h-4 w-4\" />\n            </Button>\n          </CardTitle>\n          <p className=\"text-xs text-muted capitalize\">{componentType}</p>\n        </CardHeader>\n        <CardContent className=\"space-y-3\">\n          <Separator />\n          {paramDefs.map((def) => {\n            const value = params[def.key];\n            const displayValue = Array.isArray(value)\n              ? value.join(\", \")\n              : String(value ?? \"\");\n\n            return (\n              <div key={def.key} className=\"space-y-1\">\n                <Label htmlFor={def.key} className=\"text-xs\">\n                  {def.label}\n                  {def.unit && <span className=\"text-muted ml-1\">({def.unit})</span>}\n                </Label>\n                <Input\n                  id={def.key}\n                  value={displayValue}\n                  onChange={(e) => handleChange(def.key, e.target.value)}\n                  step={def.step}\n                  className=\"h-8 text-sm\"\n                />\n              </div>\n            );\n          })}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2525, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport { cn } from \"@/lib/utils\";\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted/30 text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium transition-all\",\n        \"data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n        \"hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AACA;AAJA;;;;AAMA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,sGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,qHACA,uGACA,6HACA;QAED,GAAG,KAAK;;;;;;AAGf;MAhBS;AAkBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 2603, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/stores/simulation-store.ts"],"sourcesContent":["\"use client\";\n\nimport { create } from \"zustand\";\n\n/**\n * Simulation configuration.\n */\nexport interface SimConfig {\n  tEnd: number; // Duration [s]\n  dtOutput: number; // Output step [s]\n  targetVelocity: number; // Target speed [m/s]\n  grade: number; // Road grade [fraction]\n  payloadFraction: number; // Payload [0-1]\n}\n\n/**\n * Simulation result data.\n */\nexport interface SimResult {\n  time: number[];\n  velocity: number[];\n  grade: number[];\n  fuelRate?: number[];\n  soc?: number[];\n  enginePower?: number[];\n  motorPower?: number[];\n}\n\n/**\n * Rimpull data point.\n */\nexport interface RimpullPoint {\n  velocity: number; // [m/s]\n  force: number; // [N]\n  gear?: number;\n}\n\n/**\n * Rimpull curve for a configuration.\n */\nexport interface RimpullCurve {\n  name: string;\n  points: RimpullPoint[];\n  color: string;\n}\n\ntype SimStatus = \"idle\" | \"running\" | \"completed\" | \"error\";\n\ninterface SimulationState {\n  config: SimConfig;\n  status: SimStatus;\n  progress: number;\n  error: string | null;\n  result: SimResult | null;\n  rimpullCurves: RimpullCurve[];\n\n  // Actions\n  setConfig: (config: Partial<SimConfig>) => void;\n  setStatus: (status: SimStatus) => void;\n  setProgress: (progress: number) => void;\n  setError: (error: string | null) => void;\n  setResult: (result: SimResult | null) => void;\n  setRimpullCurves: (curves: RimpullCurve[]) => void;\n  reset: () => void;\n}\n\nconst DEFAULT_CONFIG: SimConfig = {\n  tEnd: 60,\n  dtOutput: 0.1,\n  targetVelocity: 12, // ~43 km/h\n  grade: 0.0,\n  payloadFraction: 1.0,\n};\n\nexport const useSimulationStore = create<SimulationState>((set) => ({\n  config: DEFAULT_CONFIG,\n  status: \"idle\",\n  progress: 0,\n  error: null,\n  result: null,\n  rimpullCurves: [],\n\n  setConfig: (config) =>\n    set((state) => ({\n      config: { ...state.config, ...config },\n    })),\n\n  setStatus: (status) => set({ status }),\n\n  setProgress: (progress) => set({ progress }),\n\n  setError: (error) => set({ error, status: error ? \"error\" : \"idle\" }),\n\n  setResult: (result) => set({ result, status: result ? \"completed\" : \"idle\" }),\n\n  setRimpullCurves: (curves) => set({ rimpullCurves: curves }),\n\n  reset: () =>\n    set({\n      status: \"idle\",\n      progress: 0,\n      error: null,\n      result: null,\n    }),\n}));\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAkEA,MAAM,iBAA4B;IAChC,MAAM;IACN,UAAU;IACV,gBAAgB;IAChB,OAAO;IACP,iBAAiB;AACnB;AAEO,MAAM,qBAAqB,IAAA,qJAAM,EAAkB,CAAC,MAAQ,CAAC;QAClE,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,OAAO;QACP,QAAQ;QACR,eAAe,EAAE;QAEjB,WAAW,CAAC,SACV,IAAI,CAAC,QAAU,CAAC;oBACd,QAAQ;wBAAE,GAAG,MAAM,MAAM;wBAAE,GAAG,MAAM;oBAAC;gBACvC,CAAC;QAEH,WAAW,CAAC,SAAW,IAAI;gBAAE;YAAO;QAEpC,aAAa,CAAC,WAAa,IAAI;gBAAE;YAAS;QAE1C,UAAU,CAAC,QAAU,IAAI;gBAAE;gBAAO,QAAQ,QAAQ,UAAU;YAAO;QAEnE,WAAW,CAAC,SAAW,IAAI;gBAAE;gBAAQ,QAAQ,SAAS,cAAc;YAAO;QAE3E,kBAAkB,CAAC,SAAW,IAAI;gBAAE,eAAe;YAAO;QAE1D,OAAO,IACL,IAAI;gBACF,QAAQ;gBACR,UAAU;gBACV,OAAO;gBACP,QAAQ;YACV;IACJ,CAAC","debugId":null}},
    {"offset": {"line": 2661, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/panels/SimulationPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { Play, Square, RotateCcw } from \"lucide-react\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"@/components/ui/tabs\";\nimport { useDrivetrainStore } from \"@/stores/drivetrain-store\";\nimport { useSimulationStore } from \"@/stores/simulation-store\";\n\nexport function SimulationPanel() {\n  const validateTopology = useDrivetrainStore((s) => s.validateTopology);\n  const config = useSimulationStore((s) => s.config);\n  const setConfig = useSimulationStore((s) => s.setConfig);\n  const status = useSimulationStore((s) => s.status);\n  const progress = useSimulationStore((s) => s.progress);\n  const setStatus = useSimulationStore((s) => s.setStatus);\n  const reset = useSimulationStore((s) => s.reset);\n\n  const handleRunSimulation = () => {\n    const validation = validateTopology();\n    if (!validation.isValid) {\n      alert(\"Invalid topology:\\n\" + validation.errors.join(\"\\n\"));\n      return;\n    }\n\n    setStatus(\"running\");\n    // Simulation will be implemented in next phase\n    setTimeout(() => {\n      setStatus(\"completed\");\n    }, 2000);\n  };\n\n  const handleStop = () => {\n    setStatus(\"idle\");\n    reset();\n  };\n\n  return (\n    <div className=\"h-64 bg-dark border-t border-subtle p-4 overflow-hidden\">\n      <Tabs defaultValue=\"config\" className=\"h-full flex flex-col\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <TabsList>\n            <TabsTrigger value=\"config\">Configuration</TabsTrigger>\n            <TabsTrigger value=\"results\">Results</TabsTrigger>\n            <TabsTrigger value=\"rimpull\">Rimpull</TabsTrigger>\n          </TabsList>\n\n          <div className=\"flex items-center gap-2\">\n            {status === \"running\" && (\n              <div className=\"flex items-center gap-2 text-sm text-muted\">\n                <div className=\"h-2 w-32 bg-subtle rounded-full overflow-hidden\">\n                  <div\n                    className=\"h-full bg-accent transition-all\"\n                    style={{ width: `${progress * 100}%` }}\n                  />\n                </div>\n                <span>{Math.round(progress * 100)}%</span>\n              </div>\n            )}\n\n            {status !== \"running\" ? (\n              <Button variant=\"accent\" size=\"sm\" onClick={handleRunSimulation}>\n                <Play className=\"h-4 w-4 mr-1\" />\n                Run Simulation\n              </Button>\n            ) : (\n              <Button variant=\"destructive\" size=\"sm\" onClick={handleStop}>\n                <Square className=\"h-4 w-4 mr-1\" />\n                Stop\n              </Button>\n            )}\n\n            <Button variant=\"outline\" size=\"sm\" onClick={reset}>\n              <RotateCcw className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n\n        <TabsContent value=\"config\" className=\"flex-1 overflow-auto\">\n          <div className=\"grid grid-cols-5 gap-4\">\n            <div className=\"space-y-1\">\n              <Label className=\"text-xs\">Duration (s)</Label>\n              <Input\n                type=\"number\"\n                value={config.tEnd}\n                onChange={(e) => setConfig({ tEnd: parseFloat(e.target.value) || 60 })}\n                className=\"h-8\"\n              />\n            </div>\n            <div className=\"space-y-1\">\n              <Label className=\"text-xs\">Target Speed (km/h)</Label>\n              <Input\n                type=\"number\"\n                value={(config.targetVelocity * 3.6).toFixed(1)}\n                onChange={(e) => setConfig({ targetVelocity: (parseFloat(e.target.value) || 0) / 3.6 })}\n                className=\"h-8\"\n              />\n            </div>\n            <div className=\"space-y-1\">\n              <Label className=\"text-xs\">Grade (%)</Label>\n              <Input\n                type=\"number\"\n                value={(config.grade * 100).toFixed(1)}\n                onChange={(e) => setConfig({ grade: (parseFloat(e.target.value) || 0) / 100 })}\n                step={0.5}\n                className=\"h-8\"\n              />\n            </div>\n            <div className=\"space-y-1\">\n              <Label className=\"text-xs\">Payload (%)</Label>\n              <Input\n                type=\"number\"\n                value={(config.payloadFraction * 100).toFixed(0)}\n                onChange={(e) => setConfig({ payloadFraction: (parseFloat(e.target.value) || 100) / 100 })}\n                className=\"h-8\"\n              />\n            </div>\n            <div className=\"space-y-1\">\n              <Label className=\"text-xs\">Output Step (s)</Label>\n              <Input\n                type=\"number\"\n                value={config.dtOutput}\n                onChange={(e) => setConfig({ dtOutput: parseFloat(e.target.value) || 0.1 })}\n                step={0.05}\n                className=\"h-8\"\n              />\n            </div>\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"results\" className=\"flex-1 overflow-auto\">\n          <Card className=\"h-full\">\n            <CardContent className=\"h-full flex items-center justify-center text-muted\">\n              {status === \"completed\"\n                ? \"Simulation complete - charts will appear here\"\n                : \"Run a simulation to see results\"}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"rimpull\" className=\"flex-1 overflow-auto\">\n          <Card className=\"h-full\">\n            <CardContent className=\"h-full flex items-center justify-center text-muted\">\n              Rimpull curves will appear here\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3114, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/components/DrivetrainEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallback } from \"react\";\nimport {\n  ReactFlow,\n  Background,\n  Controls,\n  MiniMap,\n  addEdge,\n  type Connection,\n  type Edge,\n  BackgroundVariant,\n} from \"@xyflow/react\";\nimport \"@xyflow/react/dist/style.css\";\n\nimport { useDrivetrainStore, type ComponentType } from \"@/stores/drivetrain-store\";\nimport { nodeTypes } from \"@/components/nodes\";\nimport { ComponentPalette } from \"@/components/panels/ComponentPalette\";\nimport { PropertiesPanel } from \"@/components/panels/PropertiesPanel\";\nimport { SimulationPanel } from \"@/components/panels/SimulationPanel\";\n\n// Custom edge styles\nconst edgeTypes = {};\n\nconst defaultEdgeOptions = {\n  style: { strokeWidth: 2 },\n  animated: false,\n};\n\nexport function DrivetrainEditor() {\n  const nodes = useDrivetrainStore((s) => s.nodes);\n  const edges = useDrivetrainStore((s) => s.edges);\n  const onNodesChange = useDrivetrainStore((s) => s.onNodesChange);\n  const onEdgesChange = useDrivetrainStore((s) => s.onEdgesChange);\n  const addNode = useDrivetrainStore((s) => s.addNode);\n  const addEdge_ = useDrivetrainStore((s) => s.addEdge);\n  const setSelectedNode = useDrivetrainStore((s) => s.setSelectedNode);\n\n  const onConnect = useCallback(\n    (connection: Connection) => {\n      // Determine edge type based on handle names\n      const edgeType =\n        connection.sourceHandle?.includes(\"electrical\") ||\n        connection.targetHandle?.includes(\"electrical\")\n          ? \"electrical\"\n          : \"mechanical\";\n\n      const newEdge: Edge = {\n        id: `e-${connection.source}-${connection.target}-${Date.now()}`,\n        source: connection.source!,\n        target: connection.target!,\n        sourceHandle: connection.sourceHandle,\n        targetHandle: connection.targetHandle,\n        style: {\n          stroke: edgeType === \"mechanical\" ? \"#10b981\" : \"#f59e0b\",\n          strokeWidth: 2,\n        },\n        animated: edgeType === \"electrical\",\n      };\n\n      addEdge_(newEdge);\n    },\n    [addEdge_]\n  );\n\n  const onDragOver = useCallback((event: React.DragEvent) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = \"move\";\n  }, []);\n\n  const onDrop = useCallback(\n    (event: React.DragEvent) => {\n      event.preventDefault();\n\n      const type = event.dataTransfer.getData(\"application/reactflow\") as ComponentType;\n      if (!type) return;\n\n      // Get position from drop coordinates\n      const reactFlowBounds = event.currentTarget.getBoundingClientRect();\n      const position = {\n        x: event.clientX - reactFlowBounds.left - 70,\n        y: event.clientY - reactFlowBounds.top - 50,\n      };\n\n      addNode(type, position);\n    },\n    [addNode]\n  );\n\n  const onPaneClick = useCallback(() => {\n    setSelectedNode(null);\n  }, [setSelectedNode]);\n\n  return (\n    <div className=\"h-screen flex flex-col bg-black\">\n      {/* Header */}\n      <header className=\"h-14 flex items-center px-4 border-b border-subtle bg-dark\">\n        <h1 className=\"text-lg font-semibold text-primary\">Gearbox Analyzer</h1>\n        <span className=\"ml-4 text-sm text-muted\">\n          Visual Drivetrain Simulation Tool\n        </span>\n      </header>\n\n      {/* Main content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Left sidebar - Component Palette */}\n        <ComponentPalette />\n\n        {/* Center - React Flow canvas */}\n        <div className=\"flex-1 flex flex-col\">\n          <div className=\"flex-1\">\n            <ReactFlow\n              nodes={nodes}\n              edges={edges}\n              onNodesChange={onNodesChange}\n              onEdgesChange={onEdgesChange}\n              onConnect={onConnect}\n              onDragOver={onDragOver}\n              onDrop={onDrop}\n              onPaneClick={onPaneClick}\n              nodeTypes={nodeTypes}\n              edgeTypes={edgeTypes}\n              defaultEdgeOptions={defaultEdgeOptions}\n              fitView\n              proOptions={{ hideAttribution: true }}\n              className=\"bg-black\"\n            >\n              <Background\n                variant={BackgroundVariant.Dots}\n                gap={20}\n                size={1}\n                color=\"#2a2a2a\"\n              />\n              <Controls className=\"bg-surface border-subtle [&>button]:bg-surface [&>button]:border-subtle [&>button]:text-primary [&>button:hover]:bg-subtle\" />\n              <MiniMap\n                className=\"!bg-surface\"\n                nodeColor={(node) => {\n                  switch (node.data?.componentType) {\n                    case \"engine\":\n                      return \"#dc2626\";\n                    case \"motor\":\n                      return \"#2563eb\";\n                    case \"gearbox\":\n                      return \"#9333ea\";\n                    case \"planetary\":\n                      return \"#0d9488\";\n                    case \"battery\":\n                      return \"#d97706\";\n                    case \"vehicle\":\n                      return \"#16a34a\";\n                    default:\n                      return \"#6b7280\";\n                  }\n                }}\n              />\n            </ReactFlow>\n          </div>\n\n          {/* Bottom panel - Simulation */}\n          <SimulationPanel />\n        </div>\n\n        {/* Right sidebar - Properties */}\n        <PropertiesPanel />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3380, "column": 0}, "map": {"version":3,"sources":["file:///home/john/p412/gearbox/web/apps/gearbox-analyzer/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { DrivetrainEditor } from \"@/components/DrivetrainEditor\";\n\nexport default function Home() {\n  return <DrivetrainEditor />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBAAO,6LAAC,qLAAgB;;;;;AAC1B;KAFwB","debugId":null}}]
}